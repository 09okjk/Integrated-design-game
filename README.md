# 集成设计游戏：生态环境与文明模拟器

## 游戏简介

《集成设计游戏》是一款基于Vue 3、TypeScript和Pinia构建的高度交互式生态环境与文明模拟游戏。作为一位神明般的存在，玩家可以通过调节天气、改变环境条件来影响地图上的地形变化和文明发展，创造属于自己的世界历史。

![游戏截图](./screenshot.png)

## 游戏特色

### 永不重复的世界生成

每次开始游戏，系统都会生成一个独特的世界，包含不同的地形分布、环境条件和文明起源点。玩家的每一次决策都会影响这个世界的发展轨迹，创造独一无二的游戏体验。

### 动态生态系统

- **多样化地形**：包括平原、丘陵、水域和沙漠，每种地形都有独特的立体视觉效果和生态特性
- **复杂天气系统**：玩家可以应用热浪、寒流、降雨和干旱等天气效果，每种效果都会对地图上的温度和湿度产生持续影响
- **渐进式环境变化**：地形会根据环境条件的长期变化而转变（如沙漠在连续五次潮湿后有50%概率变成平原，模拟沙漠绿化过程）
- **极端天气事件**：随机发生的洪水、干旱、野火和暴风雪等极端天气事件，会对地图产生深远影响并迫使文明迁徙

### 多元文明模拟

- **三种文明类型**：游戏模拟了游牧、农耕和渔猎三种不同的文明类型，每种类型都有独特的生存策略和环境适应性
  - 游牧文明：适应平原和丘陵地形，移动性强，资源不足时会主动迁徙
  - 农耕文明：适应湿润平原，产出更多食物，但需要稳定的环境条件
  - 渔猎文明：适应水域附近地区，依赖水资源，抵抗环境变化能力中等
- **资源与人口系统**：每个文明都管理自己的食物、工具资源和人口，这些数值会根据环境条件和玩家决策动态变化
- **智能迁徙机制**：文明会在资源不足或遇到极端天气事件时自动寻找更适合的地区迁徙
- **文明互动**：不同文明之间会相互影响，形成复杂的生态网络
- **自动生成**：每两分钟会在适合的地区自动生成新文明，使世界充满活力

### 交互系统

- **村民交流事件**：每分钟触发的村民请求事件，玩家可以选择使用金币打发或满足其天气条件请求
  - 成功满足请求有机会生成新文明，增加游戏多样性
  - 每个请求都与环境条件相关，增强了游戏的深度
- **警告事件系统**：随机触发的极端天气事件，包括洪水、干旱、野火和暴风雪
  - 事件持续30秒，结束后会对地形产生永久性影响
  - 包含新手教程系统，帮助玩家了解如何应对不同类型的警告事件
- **供奉系统**：文明会定期向玩家贡献供奉值，积累到一定程度后可获得金币奖励
  - 金币可用于打发村民请求，为玩家提供了资源管理的策略层面

### 用户界面

- **交互式地图**：高度可交互的格子地图，每个单元格都有独特的视觉效果和动画
  - 点击地图单元格可应用天气效果，改变其温度和湿度
  - 悬停在单元格上可查看详细的环境数据和文明信息
- **控制面板**：位于左侧的多功能控制面板，包含：
  - 地图状态信息：显示当前选中单元格的地形、温度和湿度数据
  - 文明状态栏：实时显示地图上各文明的类型、资源和人口情况
  - 全局趋势图：直观展示世界温度和湿度的变化趋势
  - 资源信息：显示玩家当前的金币数量
- **游戏指南**：包含地形类型、天气控制、环境变化、文明类型和操作提示等分类信息
- **结算系统**：玩家可以随时结算游戏，查看自己创造的世界的最终结局
  - 系统会生成一个像素风格的结算海报，展示玩家的成就
  - 根据游戏数据生成不同类型的结局描述和评语

## 环境变化机制

### 地形转化系统

- **沙漠绿化**：在沙漠地形上连续应用五次潮湿天气后，有50%概率转化为平原
  - 转化过程中，沙漠颜色会逐渐从黄色变为绿色，模拟沙漠绿化过程
  - 如果五次后未转化成功，则恢复原始沙漠颜色并重置潮湿计数
- **极端天气影响**：警告事件结束后会对地形产生永久性影响
  - 洪水可能会将平原转化为水域
  - 干旱可能会将平原转化为沙漠
  - 野火会降低地形的湿度和植被
  - 暴风雪会将水域暂时冻结

### 天气效果系统

- **热浪**：应用后单元格温度上升15点，显示热浪动画效果
  - 适合于游牧文明定居的平原和丘陵
  - 过高的温度会降低农耕文明的食物产量
- **寒流**：应用后单元格温度下降15点，显示寒冷效果
  - 适合于降低过热区域的温度
  - 极端寒冷会影响所有类型文明的生存
- **降雨**：应用后单元格湿度上升15点，显示雨滴动画效果
  - 对农耕文明有利，增加食物产量
  - 有助于沙漠绿化过程
- **干旱**：应用后单元格湿度下降15点，显示干旱效果
  - 适合于降低过湿区域的湿度
  - 长期干旱会影响农耕文明的生存

### 全球环境趋势

游戏会跟踪全球平均温度和湿度的变化趋势，并在控制面板中显示趋势图。这些数据对于预测未来可能出现的警告事件和制定长期战略非常重要。

## 技术栈

- **前端框架**：Vue 3
- **编程语言**：TypeScript
- **构建工具**：Vite
- **状态管理**：Pinia

## 安装与运行

### 环境要求

- Node.js 16+
- npm 8+

### 安装依赖

```bash
npm install
```

### 开发模式运行

```bash
npm run dev
```

### 构建生产版本

```bash
npm run build
```

### 预览生产版本

```bash
npm run preview
```

## 游戏操作指南

### 基本操作

1. **开始游戏**：页面加载后游戏自动开始，系统会生成一个随机的游戏世界
2. **地图交互**：
   - 点击地图单元格打开天气控制面板
   - 选择天气类型（热浪、寒流、降雨、干旱）应用到选中单元格
   - 悬停在地图单元格上查看详细的环境和文明信息
3. **文明管理**：
   - 点击控制面板中的文明状态栏可以查看文明详情
   - 观察文明的资源状况和人口变化，及时调整环境条件

### 高级交互

1. **处理村民请求**：
   - 当村民请求弹出时，仔细阅读请求内容
   - 选择使用金币打发或满足其天气条件请求
   - 成功满足请求可能会带来额外奖励，如新文明的出现
2. **应对警告事件**：
   - 当警告事件触发时，快速识别事件类型
   - 根据事件类型采取相应措施，如在洪水事件期间保护重要文明
   - 事件结束后评估损失并调整策略
3. **管理金币资源**：
   - 合理使用金币，在关键时刻保留足够金币应对紧急情况
   - 通过供奉系统积累金币，定期查看供奉值的积累情况

### 游戏结算

1. **结算游戏**：
   - 点击控制面板中的结算按钮查看游戏结果
   - 系统会根据你的游戏表现生成一个独特的结算海报
   - 查看详细的游戏数据和成就统计
2. **重新开始**：
   - 结算后可选择重新开始游戏，创造新的世界
   - 每次重新开始都会生成全新的地图和环境条件

## 未来计划

### 游戏机制扩展

- **文明交互系统**：实现文明之间的贸易、战争和文化交流
  - 添加文明之间的资源交换和贸易路线
  - 实现文明冲突和领土扩张机制
  - 添加文化传播和技术共享功能
- **技术发展树**：每个文明都有自己的技术发展路线
  - 添加不同的技术时代，从原始到工业化
  - 技术进步将影响文明的资源利用效率和环境适应能力
- **自然灾害系统**：扩展现有的警告事件系统
  - 添加地震、火山爆发和疫病等新类型灾害
  - 实现灾害预警系统，给玩家时间做准备
  - 添加灾后重建机制

### 视觉和界面升级

- **新地形类型**：添加山脉、森林、湿地和冰原等新地形
  - 每种新地形都有独特的生态特性和视觉效果
  - 增加地形高度系统，实现真正的三维地图
- **季节系统**：添加季节变化，影响地形外观和文明生产力
  - 实现春夏秋冬四季循环，每个季节都有独特的视觉效果
  - 季节变化将影响天气事件的发生概率和文明的资源产出
- **建筑系统**：添加玩家可建造的基础设施
  - 实现水利工程、防灾工事和资源提取设施
  - 建筑物将影响周围环境和文明发展

### 技术优化

- **移动设备支持**：全面优化移动设备体验
  - 重新设计触控界面，适应不同屏幕尺寸
  - 优化游戏性能，减少在移动设备上的资源消耗
- **多人在线模式**：实现多玩家共同创造和管理一个世界
  - 添加实时多人协作和竞争模式
  - 实现玩家之间的交流和资源共享

## 贡献与反馈

我们非常欢迎社区的参与和贡献！以下是几种参与项目开发的方式：

- **问题报告**：如果你发现了bug或有改进建议，请在GitHub仓库上提交issue
- **功能请求**：如果你有新功能的想法，欢迎在讨论区分享
- **代码贡献**：如果你想直接参与开发，可以fork仓库并提交Pull Request
- **游戏测试**：帮助我们测试新功能并提供反馈

所有贡献者将在项目的致谢名单中得到认可。

## 许可

[MIT](LICENSE)
